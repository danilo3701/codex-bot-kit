# Module Tests Checklist — <MODULE_NAME>
Версия: v0.1  
Дата: <YYYY-MM-DD>  
Основано на: `contract.md` этого модуля

## 0) Setup / Preconditions
- Роль пользователя: <Student/Teacher/Admin/...>
- Данные до теста: <что должно быть в storage / что должно быть пусто>
- Настройки/таймзона: <если влияет>
- Стартовая точка: <главное меню / команда / ссылка>

## 1) Happy Path (базовый сценарий)
1) Вход в модуль:
   - Действие: нажать `<button>` / команда `/...`
   - Ожидание: открылся экран `<screen A>`, кнопки `<...>`

2) Шаг 1 → Шаг 2:
   - Действие: `<...>`
   - Ожидание: `<что изменилось в UI>`

3) Завершение сценария:
   - Действие: `<confirm / submit / save>`
   - Ожидание (UI): `<сообщение/экран успеха>`
   - Ожидание (данные): `<что записалось / изменилось>`

## 2) Навигация (назад/отмена/меню)
4) Кнопка “Назад”:
   - Действие: на экране `<X>` нажать “Назад”
   - Ожидание: вернуло на `<Y>`, временные данные очищены/сохранены как задумано

5) “Отмена” (если есть):
   - Действие: начать процесс → нажать “Отмена”
   - Ожидание: вернуло в меню/экран модуля, ничего лишнего не сохранено

6) “Меню” (выход из модуля):
   - Действие: из середины процесса нажать “Меню”
   - Ожидание: главное меню, state сброшен, черновики очищены

## 3) Edge Cases: ввод и форматы (FormatGate)
7) Пустой ввод / пробелы (если модуль принимает ввод):
   - Действие: отправить пусто / "   "
   - Ожидание: понятная ошибка + пример правильного формата, остаёмся в том же шаге

8) Невалидный формат:
   - Действие: отправить `<abc / неверная дата / неверное число>`
   - Ожидание: ошибка формата, ничего не сохраняется

9) Граничные значения:
   - Действие: минимальное допустимое значение `<min>`
   - Ожидание: принимается корректно
   - Действие: максимальное допустимое значение `<max>`
   - Ожидание: принимается корректно
   - Действие: значение ниже min / выше max
   - Ожидание: ошибка диапазона

10) Нормализация:
   - Действие: ввод с лишними пробелами/запятыми/разными регистрами
   - Ожидание: модуль нормализует (trim/replace/etc) и продолжает

## 4) Надёжность (NoHang / ошибки / повторные клики)
11) Double click (двойное нажатие кнопки):
   - Действие: дважды быстро нажать одну inline-кнопку
   - Ожидание: нет дублей/двойных записей, UI остаётся корректным

12) Callback “не висит”:
   - Действие: нажать любую inline-кнопку модуля
   - Ожидание: нет “часиков/загрузки”, ответ приходит быстро (answer вызывается)

13) Ошибка storage/интеграции (если применимо):
   - Действие: имитировать ошибку (нет доступа/ошибка записи/таймаут)
   - Ожидание: понятное сообщение, сценарий не ломается, данные не “наполовину”

## 5) Data & State (консистентность)
14) Состояния FSM:
   - Действие: пройти до шага `<STATE_X>` и уйти в меню
   - Ожидание: state сброшен
   - Действие: вернуться в модуль
   - Ожидание: старт корректный, не “помнит” старый ввод

15) Инварианты данных:
   - Действие: завершить операцию
   - Ожидание: данные в storage соответствуют UI (нет рассинхрона)

## 6) Регрессия (соседние части, минимально)
16) Главное меню после модуля:
   - Действие: выйти из модуля в меню
   - Ожидание: меню работает, кнопки кликаются, нет ошибок

17) Повторный запуск модуля:
   - Действие: сразу снова зайти в модуль после завершения
   - Ожидание: начинается корректно, нет мусора/старых клавиатур

## 7) Clean Chat (если это важно в проекте)
18) Экранность:
   - Ожидание: нет лишних сообщений, основной экран обновляется через edit

19) Удаление пользовательского ввода (если принято):
   - Действие: ввести сообщение
   - Ожидание: после обработки ввод удалён (или объяснено почему нет)

20) Мёртвые кнопки:
   - Действие: вернуться назад/в меню
   - Ожидание: старые inline-кнопки не остаются активными/путающими

---

## Итог
- PASS/FAIL:
- Что сломалось (если FAIL):
- Ссылка на шаг(и):
- Примечания:
